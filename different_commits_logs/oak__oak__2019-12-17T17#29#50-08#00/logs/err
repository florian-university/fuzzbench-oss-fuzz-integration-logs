WARNING:root:gcloud not found in PATH.
INFO:root:Successfully integrated benchmark: oak_oak.
INFO:root:Please run "make test-run-afl-oak_oak" to test integration.
#1 [internal] load build definition from Dockerfile
#1 sha256:255019ce2df5314d515f02bf18959f372472f3b787df65e7b8bf53ad9fa043c8
#1 transferring dockerfile: 1.72kB done
#1 DONE 0.2s

#2 [internal] load .dockerignore
#2 sha256:bad2b7397c7a7fd596021f0c40d337e15755a68e8de6094251797337a6c26124
#2 transferring context: 2B done
#2 DONE 0.2s

#3 [internal] load metadata for gcr.io/oss-fuzz-base/base-builder@sha256:276813aef0ce5972db43c0230f96162003994fa742fb1b2f4e66c67498575c65
#3 sha256:2b754e48af0c5e38ce62698059fbec3192df8e59cc29e02d41923aa551f21bea
#3 DONE 0.1s

#9 [internal] load build context
#9 sha256:65767eca4589565d5209a31c4b2c5b1c674d98bc27f16eb43816b66f7df65cb7
#9 DONE 0.0s

#5 [1/5] FROM gcr.io/oss-fuzz-base/base-builder@sha256:276813aef0ce5972db43c0230f96162003994fa742fb1b2f4e66c67498575c65
#5 sha256:42273eb8b63d10daaf882a5b3c8a6e7a11876869a31001925573ea217a9cf9a4
#5 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/builders/benchmark/oak_oak
#4 sha256:d95c1ba6777729cf9980463d65040c29c39beb7f9fcffbc722a6deb0b08c2a9a
#4 ERROR: gcr.io/fuzzbench/builders/benchmark/oak_oak:latest: not found

#9 [internal] load build context
#9 sha256:65767eca4589565d5209a31c4b2c5b1c674d98bc27f16eb43816b66f7df65cb7
#9 transferring context: 2.57kB done
#9 DONE 0.1s

#6 [2/5] RUN apt-get update &&     apt-get install -y wget &&     wget "https://storage.googleapis.com/bazel-apt/pool/jdk1.8/b/bazel/bazel_1.1.0_amd64.deb" -nv -o- -O bazel.deb &&     echo "138b47ffd54924e3c0264c65d31d3927803fb9025db4d5b18107df79ee3bda95  bazel.deb" > bazel.sha256 &&     sha256sum --check bazel.sha256 &&     apt-get install -y ./bazel.deb &&     rm bazel.deb bazel.sha256 &&     apt-get clean
#6 sha256:c16b12b0f93998d28c9a66811bd5916315bd043396b6c2621ed208a6aa602d37
#6 CACHED

#7 [3/5] RUN git clone --depth 1 https://github.com/project-oak/oak oak
#7 sha256:21197fc6b19d8079dee5c2f233963aa1bc606e064d14044014f40ebca3446e94
#7 CACHED

#8 [4/5] WORKDIR oak
#8 sha256:d5cf8f6ec9461d2bb17ddf7de7b492efdb99f63580be9824c10627bd9f849685
#8 CACHED

#10 [5/5] COPY build.sh /src/
#10 sha256:d285415b1b8654bd5d6e261524b51870854bf2bf04b94ef6afd5d6aadf33740a
#10 DONE 0.6s

#11 exporting to image
#11 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#11 exporting layers done
#11 writing image sha256:3a3a261c2a75dce1be31dcca1f9b21f753073f0c34c67b86842b546fadad145d 0.0s done
#11 naming to gcr.io/fuzzbench/builders/benchmark/oak_oak 0.0s done
#11 DONE 0.3s

#12 exporting cache
#12 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#12 preparing build cache for export done
#12 DONE 0.0s
------
 > importing cache manifest from gcr.io/fuzzbench/builders/benchmark/oak_oak:
------
#1 [internal] load build definition from builder.Dockerfile
#1 sha256:ac5599fb15d0be779bc0ead0453fe149f13374dfa7d53bd618228e437ff7e457
#1 transferring dockerfile: 1.35kB done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:fc76682c571faa870743be169ee14a068bf6c867daf572d653081870eadbe369
#2 transferring context: 2B done
#2 DONE 0.1s

#3 [internal] load metadata for gcr.io/fuzzbench/builders/benchmark/oak_oak:latest
#3 sha256:8c7b0f124954020a4c2bcd2bd0fdd90627c038b709ebb961a3fd3dc1e8c0b000
#3 DONE 0.0s

#5 [1/3] FROM gcr.io/fuzzbench/builders/benchmark/oak_oak
#5 sha256:883a437dd7e408be3925caa2b4c96c331b5f3c5d0524ce1215b25f155f6cfaa0
#5 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak-intermediate
#4 sha256:4e880392b70060b9d6002bdaef7fdff56186b4d4ce00d3647dd3db82fca539c0
#4 ERROR: gcr.io/fuzzbench/builders/afl/oak_oak-intermediate:latest: not found

#5 [1/3] FROM gcr.io/fuzzbench/builders/benchmark/oak_oak
#5 sha256:883a437dd7e408be3925caa2b4c96c331b5f3c5d0524ce1215b25f155f6cfaa0
#5 DONE 0.4s

#6 [2/3] RUN git clone https://github.com/google/AFL.git /afl &&     cd /afl &&     git checkout 61037103ae3722c8060ff7082994836a794f978e &&     AFL_NO_X86=1 make
#6 sha256:52ae161ad8f2f71d072479f2c746b47984b2bdbae6d877f0616cb427a43102d9
#6 0.372 Cloning into '/afl'...
#6 1.231 Note: checking out '61037103ae3722c8060ff7082994836a794f978e'.
#6 1.231 
#6 1.231 You are in 'detached HEAD' state. You can look around, make experimental
#6 1.231 changes and commit them, and you can discard any commits you make in this
#6 1.231 state without impacting any branches by performing another checkout.
#6 1.231 
#6 1.231 If you want to create a new branch to retain commits you create, you may
#6 1.231 do so (now or later) by using -b with the checkout command again. Example:
#6 1.231 
#6 1.231   git checkout -b <new-branch-name>
#6 1.231 
#6 1.231 HEAD is now at 6103710... Fix a typo filename comparison in the fuzzer (#139)
#6 1.250 [!] Note: skipping x86 compilation checks (AFL_NO_X86 set).
#6 1.250 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-gcc.c -o afl-gcc -ldl
#6 1.445 set -e; for i in afl-g++ afl-clang afl-clang++; do ln -sf afl-gcc $i; done
#6 1.450 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-fuzz.c -o afl-fuzz -ldl
#6 3.369 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-showmap.c -o afl-showmap -ldl
#6 3.663 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-tmin.c -o afl-tmin -ldl
#6 4.045 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-gotcpu.c -o afl-gotcpu -ldl
#6 4.202 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-analyze.c -o afl-analyze -ldl
#6 4.565 clang -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -Wall -D_FORTIFY_SOURCE=2 -g -Wno-pointer-sign -DAFL_PATH=\"/usr/local/lib/afl\" -DDOC_PATH=\"/usr/local/share/doc/afl\" -DBIN_PATH=\"/usr/local/bin\" afl-as.c -o afl-as -ldl
#6 4.820 ln -sf afl-as as
#6 4.823 [!] Note: skipping build tests (you may need to use LLVM or QEMU mode).
#6 4.826 [+] LLVM users: see llvm_mode/README.llvm for a faster alternative to afl-gcc.
#6 4.827 [+] All done! Be sure to review README - it's pretty short and useful.
#6 DONE 5.5s

#7 [3/3] RUN apt-get update &&     apt-get install wget -y &&     wget https://raw.githubusercontent.com/llvm/llvm-project/5feb80e748924606531ba28c97fe65145c65372e/compiler-rt/lib/fuzzer/afl/afl_driver.cpp -O /afl/afl_driver.cpp &&     clang -Wno-pointer-sign -c /afl/llvm_mode/afl-llvm-rt.o.c -I/afl &&     clang++ -stdlib=libc++ -std=c++11 -O2 -c /afl/afl_driver.cpp &&     ar r /libAFL.a *.o
#7 sha256:c66f9663006934f2b3994b6e798264ac69f08cb2630800806057509ba4133272
#7 0.781 Hit:1 http://security.ubuntu.com/ubuntu xenial-security InRelease
#7 0.781 Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease
#7 0.781 Hit:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease
#7 0.799 Hit:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease
#7 1.379 Reading package lists...
#7 2.719 Reading package lists...
#7 3.937 Building dependency tree...
#7 4.100 Reading state information...
#7 4.233 wget is already the newest version (1.17.1-1ubuntu1.5).
#7 4.233 0 upgraded, 0 newly installed, 0 to remove and 87 not upgraded.
#7 4.540 --2022-02-17 20:07:32--  https://raw.githubusercontent.com/llvm/llvm-project/5feb80e748924606531ba28c97fe65145c65372e/compiler-rt/lib/fuzzer/afl/afl_driver.cpp
#7 4.542 Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.110.133, 185.199.111.133, 185.199.108.133, ...
#7 4.544 Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.110.133|:443... connected.
#7 4.578 HTTP request sent, awaiting response... 200 OK
#7 4.589 Length: 9177 (9.0K) [text/plain]
#7 4.589 Saving to: '/afl/afl_driver.cpp'
#7 4.590 
#7 4.590      0K ........                                              100% 8.58M=0.001s
#7 4.591 
#7 4.591 2022-02-17 20:07:32 (8.58 MB/s) - '/afl/afl_driver.cpp' saved [9177/9177]
#7 4.591 
#7 6.292 ar: creating /libAFL.a
#7 DONE 6.9s

#8 exporting to image
#8 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#8 exporting layers done
#8 writing image sha256:9f6b7b5d7d5b94f66d4892097ea2a1ae08db715e8e055c4667a47ddac7f6b53c
#8 writing image sha256:9f6b7b5d7d5b94f66d4892097ea2a1ae08db715e8e055c4667a47ddac7f6b53c 0.0s done
#8 naming to gcr.io/fuzzbench/builders/afl/oak_oak-intermediate 0.0s done
#8 DONE 0.3s

#9 exporting cache
#9 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#9 preparing build cache for export done
#9 DONE 0.0s
------
 > importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak-intermediate:
------
#1 [internal] load build definition from Dockerfile
#1 sha256:0a98c6ec8ee4a1c295d9d5f797dda8a50a294f333a13d5f4183c8519a0adec11
#1 transferring dockerfile: 2.00kB done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:d5b7b2894b84fa48fc1aadb01f4d5eed41b0ec079db7a116b9687e97dc58b8ae
#2 transferring context: 34B done
#2 DONE 0.1s

#3 [internal] load metadata for docker.io/library/ubuntu:xenial
#3 sha256:f62bae18ed588840f045c881b2502661f2a89578a2f8f99b83f5200ee83dd25b
#3 DONE 0.0s

#5 [1/7] FROM docker.io/library/ubuntu:xenial
#5 sha256:14dd403f25ae9e519bd44f27dc17af7ce80f5a4f9f48ca88108364e67ec5d360
#5 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/base-image
#4 sha256:9b220ebb4d4daceed1b96df9b6dca076e762f1cd612574f010b82d5b9e5ad896
#4 DONE 0.0s

#8 [internal] load build context
#8 sha256:2bb820902a9e693a3aa4d6789beb690127edbeb0873e68e86b0f7c19b8706527
#8 transferring context: 559B 0.2s done
#8 DONE 0.2s

#10 [5/7] RUN pip3 install -r /requirements.txt
#10 sha256:ac7dd473d6a2a052e7b873dbdb782767fe2353eb199d2a2e49db7e912508c3a4
#10 CACHED

#11 [6/7] RUN apt-get update -y && apt-get install -y     apt-transport-https     lsb-release
#11 sha256:eb96a837ff222af16e02b692016e6d56447cb5987bcecaa939a4100e0dc878aa
#11 CACHED

#6 [2/7] RUN apt-get update -y && apt-get install -y     build-essential     rsync     curl     zlib1g-dev     libncurses5-dev     libgdbm-dev     libnss3-dev     libssl-dev     libreadline-dev     libffi-dev     virtualenv     libbz2-dev     liblzma-dev     libsqlite3-dev
#6 sha256:3a1b0960f17eed529eaae93dc8fd3554f2743dd584d8fa569cdbe6bc734371ac
#6 CACHED

#7 [3/7] RUN cd /tmp/ &&     curl -O https://www.python.org/ftp/python/3.8.6/Python-3.8.6.tar.xz &&     tar -xvf Python-3.8.6.tar.xz &&     cd Python-3.8.6 &&     ./configure --enable-loadable-sqlite-extensions --enable-optimizations &&     make -j install &&     rm -r /tmp/Python-3.8.6.tar.xz /tmp/Python-3.8.6
#7 sha256:c5b9d1fb3371e84dbc60b76e7b2f8d5913bc93bcd4910ab65daa03e7b2ec4bb0
#7 CACHED

#9 [4/7] COPY ./requirements.txt /
#9 sha256:5e999a90a82c09b5950b41948edc9f609c6b4dc8c49e04afa88b1fc3e58223ea
#9 CACHED

#12 [7/7] RUN CLOUD_SDK_REPO="cloud-sdk-$(lsb_release -c -s)" &&     echo "deb https://packages.cloud.google.com/apt $CLOUD_SDK_REPO main"     | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list &&     curl https://packages.cloud.google.com/apt/doc/apt-key.gpg     | apt-key add - &&     apt-get update -y &&     apt-get install -y google-cloud-sdk
#12 sha256:40adc21cd85092cc809f540ef26ceb3c5ca86c84c127ef72cd6d1bc4cd26a008
#12 CACHED

#13 exporting to image
#13 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#13 exporting layers done
#13 writing image sha256:278d1048be89ac10e6821499149688e394f017ddb53c5305e97cdbe9ed6d8c79
#13 writing image sha256:278d1048be89ac10e6821499149688e394f017ddb53c5305e97cdbe9ed6d8c79 0.0s done
#13 naming to gcr.io/fuzzbench/base-image done
#13 DONE 0.1s

#14 exporting cache
#14 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#14 preparing build cache for export done
#14 DONE 0.0s
#1 [internal] load build definition from Dockerfile
#1 sha256:5f09e20bb33582c2927c73fb78ae19a72ea73441e9c95ad51c04bc6db77e6bf3
#1 transferring dockerfile: 2.22kB done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:8cd0db56a5f1ca61ae3f29c579d037ed5153844f71a4f327e342357c060f1148
#2 transferring context: 34B done
#2 DONE 0.1s

#4 [internal] load metadata for gcr.io/fuzzbench/base-image:latest
#4 sha256:932022888f650cc455b10eb5123bb08c0cccacac29a693e69314abbfd28a72c3
#4 DONE 0.0s

#3 [internal] load metadata for gcr.io/fuzzbench/builders/afl/oak_oak-intermediate:latest
#3 sha256:1d335971869b2edfd8b6bdd29a3d7249263edfc9f45956865e8fd9b89d949275
#3 DONE 0.0s

#12 [internal] load build context
#12 sha256:a02000c143cf7009884cc6f13d447fd25d4e282ee393ca27c3f015031f7d75ac
#12 DONE 0.0s

#7 [base-image 1/1] FROM gcr.io/fuzzbench/base-image
#7 sha256:4d07825694520f8b6f6a0d8592dbd345433361ae044cb7f06706c5a95e3daaad
#7 DONE 0.0s

#6 [stage-1  1/13] FROM gcr.io/fuzzbench/builders/afl/oak_oak-intermediate
#6 sha256:4d122bc6994aeb7af6e852b5af4a708e7382e492595ba746144fe29017578a7d
#6 DONE 0.0s

#5 importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak
#5 sha256:b8c3ef64a955fdf8e92d1880302bde7ef5db5301be5dd5bdd439c8a2eb9f4991
#5 ERROR: gcr.io/fuzzbench/builders/afl/oak_oak:latest: not found

#7 [base-image 1/1] FROM gcr.io/fuzzbench/base-image
#7 sha256:4d07825694520f8b6f6a0d8592dbd345433361ae044cb7f06706c5a95e3daaad
#7 CACHED

#12 [internal] load build context
#12 sha256:a02000c143cf7009884cc6f13d447fd25d4e282ee393ca27c3f015031f7d75ac
#12 transferring context: 669.84kB 0.1s done
#12 DONE 0.2s

#6 [stage-1  1/13] FROM gcr.io/fuzzbench/builders/afl/oak_oak-intermediate
#6 sha256:4d122bc6994aeb7af6e852b5af4a708e7382e492595ba746144fe29017578a7d
#6 DONE 0.9s

#8 [stage-1  2/13] COPY --from=base-image /usr/local/bin/python3* /usr/local/bin/
#8 sha256:c1a11bde136b9c52930b60be34d0edd2e1f24ca90c69c6a892fe870e6e67e2dd
#8 DONE 0.7s

#9 [stage-1  3/13] COPY --from=base-image /usr/local/lib/python3.8 /usr/local/lib/python3.8
#9 sha256:08660eeb926ca51d3666f1dc3c62693c4245dcf7a68b7a44b382e860b018c1b8
#9 DONE 21.5s

#10 [stage-1  4/13] COPY --from=base-image /usr/local/include/python3.8 /usr/local/include/python3.8
#10 sha256:32bf6163ad80463cf4be1e9101b4d49695e460cdfbcb994887f03c5c788e5bd4
#10 DONE 0.2s

#11 [stage-1  5/13] COPY --from=base-image /usr/local/lib/python3.8/site-packages /usr/local/lib/python3.8/site-packages
#11 sha256:a84df7af703270295a262a975b16f9b44ab4893262423ffacebd4258d73e7bc7
#11 DONE 38.5s

#13 [stage-1  6/13] COPY fuzzers /src/fuzzers
#13 sha256:1dcbb022e5476e6e73e05f07fb7394770dfbc50861d304ca71080c2f4cec63ed
#13 DONE 0.5s

#14 [stage-1  7/13] RUN touch /src/__init__.py
#14 sha256:f0a418a5dfa0964f1e9a6ca2fee21a7b9ff28a0f121d9871e8a31dab0b0de133
#14 DONE 0.8s

#15 [stage-1  8/13] COPY benchmarks/oak_oak/benchmark.yaml /
#15 sha256:fd5ca7f9698b694a82a938d32f89655fdb251b81f7479ece1e71ebf38b94e373
#15 DONE 0.4s

#16 [stage-1  9/13] RUN mkdir /opt/fuzzbench/
#16 sha256:38f1b30c649f1503cfff26f709649540c79843a75e49aa331c23ce3b76a4ba88
#16 DONE 1.3s

#17 [stage-1 10/13] COPY docker/benchmark-builder/checkout_commit.py /opt/fuzzbench/
#17 sha256:a4dd6e4f6925a517d5fc77bd0e7d023943e1588fb90af4d32b01c03d807d15c8
#17 DONE 1.3s

#18 [stage-1 11/13] RUN export CHECKOUT_COMMIT=$(cat /benchmark.yaml | tr -d ' ' | grep 'commit:' | cut -d ':' -f2) &&     python3 -u /opt/fuzzbench/checkout_commit.py $CHECKOUT_COMMIT /src
#18 sha256:e69e645bca25bf718a95bca19765f715a9c2573f321138dd28c8ec2d12b42a6a
#18 1.127 Checking out commit 0a5cd931
#18 6.239 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.244 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.251 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.279 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.284 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.288 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.301 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.306 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.356 error: pathspec '0a5cd931' did not match any file(s) known to git.
#18 6.363 Checkout unsuccessful.
#18 DONE 6.6s

#19 [stage-1 12/13] RUN echo "#!/bin/bash\nPYTHONPATH=/src python3 -u -c "from fuzzers import utils; utils.initialize_env(); from fuzzers.afl import fuzzer; fuzzer.build()"" > /usr/bin/fuzzer_build &&     chmod +x /usr/bin/fuzzer_build
#19 sha256:489e383799acef845c6fd2e2cb05f539559b09883ead7493788ceed4a4b67472
#19 DONE 0.9s

#20 [stage-1 13/13] RUN echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi
#20 sha256:bfaca4e0afbf01381ea1387e872dca56a763999a90041cc9fba12819e6b819c1
#20 0.623 Run fuzzer_build to build the target
#20 0.747 FUZZ_TARGET = oak
#20 0.747 CFLAGS = -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -pthread -Wl,--no-as-needed -Wl,-ldl -Wl,-lm -Wno-unused-command-line-argument -O3
#20 0.747 CXXFLAGS = -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -pthread -Wl,--no-as-needed -Wl,-ldl -Wl,-lm -Wno-unused-command-line-argument -stdlib=libc++ -O3
#20 0.761 Building benchmark oak_oak with fuzzer afl
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-pthread --linkopt=-pthread
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-O3 --linkopt=-O3
#20 0.765 ++ for f in '${CFLAGS}'
#20 0.765 ++ echo --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-pthread --linkopt=-pthread
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-O3 --linkopt=-O3
#20 0.766 ++ for f in '${CXXFLAGS}'
#20 0.766 ++ echo --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.766 ++ '[' address = undefined ']'
#20 0.766 + readonly 'EXTRA_BAZEL_FLAGS=--conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.766 --conlyopt=-pthread --linkopt=-pthread
#20 0.766 --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.766 --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.766 --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.766 --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.766 --conlyopt=-O3 --linkopt=-O3
#20 0.766 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.766 --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.766 --cxxopt=-pthread --linkopt=-pthread
#20 0.766 --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.766 --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.766 --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.766 --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.766 --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.766 --cxxopt=-O3 --linkopt=-O3
#20 0.766 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard'
#20 0.767 + EXTRA_BAZEL_FLAGS='--conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.767 --conlyopt=-pthread --linkopt=-pthread
#20 0.767 --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.767 --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.767 --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.767 --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.767 --conlyopt=-O3 --linkopt=-O3
#20 0.767 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.767 --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.767 --cxxopt=-pthread --linkopt=-pthread
#20 0.767 --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.767 --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.767 --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.767 --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.767 --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.767 --cxxopt=-O3 --linkopt=-O3
#20 0.767 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard'
#20 0.767 + readonly 'NO_VPTR=--copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr'
#20 0.767 + NO_VPTR='--copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr'
#20 0.767 + FUZZER_TARGETS=('oak/server:wasm_node_fuzz')
#20 0.767 + readonly FUZZER_TARGETS
#20 0.767 + bazel build --client_env=CC=clang --client_env=CXX=clang++ --dynamic_mode=off --spawn_strategy=standalone --genrule_strategy=standalone --copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr --strip=never --linkopt=-lc++ --linkopt=-pthread --cxxopt=-std=c++11 --copt=/libAFL.a --linkopt=/libAFL.a --remote_cache=https://storage.googleapis.com/oak-bazel-cache --remote_upload_local_results=false --conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --conlyopt=-pthread --linkopt=-pthread --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl --conlyopt=-Wl,-lm --linkopt=-Wl,-lm --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument --conlyopt=-O3 --linkopt=-O3 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --cxxopt=-pthread --linkopt=-pthread --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl --cxxopt=-Wl,-lm --linkopt=-Wl,-lm --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++ --cxxopt=-O3 --linkopt=-O3 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard oak/server:wasm_node_fuzz
#20 0.796 Extracting Bazel installation...
#20 9.533 Starting local Bazel server and connecting to it...
#20 11.76 INFO: Writing tracer profile to '/root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/command.profile.gz'
#20 11.76 INFO: Invocation ID: c084bcba-4d46-4364-a963-40f3b93d7cec
#20 12.05 Loading: 
#20 12.06 Loading: 0 packages loaded
#20 13.07 Loading: 0 packages loaded
#20 14.07 Loading: 0 packages loaded
#20 15.07 Loading: 0 packages loaded
#20 16.28 Loading: 0 packages loaded
#20 17.90 Loading: 0 packages loaded
#20 18.95 Loading: 0 packages loaded
#20 20.14 Loading: 0 packages loaded
#20 21.41 Loading: 0 packages loaded
#20 23.02 Loading: 0 packages loaded
#20 24.74 Loading: 0 packages loaded
#20 26.86 Loading: 0 packages loaded
#20 29.44 Loading: 0 packages loaded
#20 32.22 Loading: 0 packages loaded
#20 35.43 Loading: 0 packages loaded
#20 39.50 Loading: 0 packages loaded
#20 43.81 Loading: 0 packages loaded
#20 48.69 DEBUG: /root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/external/bazel_toolchains/rules/rbe_repo/version_check.bzl:68:9: 
#20 48.69 Current running Bazel is ahead of bazel-toolchains repo. Please update your pin to bazel-toolchains repo in your WORKSPACE file.
#20 48.69 DEBUG: /root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/external/bazel_toolchains/rules/rbe_repo/checked_in.bzl:125:9: rbe_default not using checked in configs; Bazel version 1.1.0 was picked/selected but no checked in config was found in map {"0.20.0": ["8.0.0"], "0.21.0": ["8.0.0"], "0.22.0": ["8.0.0", "9.0.0"], "0.23.0": ["8.0.0", "9.0.0"], "0.23.1": ["8.0.0", "9.0.0"], "0.23.2": ["9.0.0"], "0.24.0": ["9.0.0"], "0.24.1": ["9.0.0"], "0.25.0": ["9.0.0"], "0.25.1": ["9.0.0"], "0.25.2": ["9.0.0"], "0.26.0": ["9.0.0"], "0.26.1": ["9.0.0"], "0.27.0": ["9.0.0"], "0.27.1": ["9.0.0"], "0.28.0": ["9.0.0"], "0.28.1": ["9.0.0"], "0.29.0": ["9.0.0"], "0.29.1": ["9.0.0", "10.0.0"], "1.0.0": ["9.0.0", "10.0.0"]}
#20 49.12 ERROR: Skipping 'oak/server:wasm_node_fuzz': no such package 'oak/server': BUILD file not found in any of the following directories. Add a BUILD file to a directory to mark it as a package.
#20 49.12  - /src/oak/oak/server
#20 49.13 WARNING: Target pattern parsing failed.
#20 49.13 Analyzing: 0 targets (0 packages loaded)
#20 49.17 ERROR: no such package 'oak/server': BUILD file not found in any of the following directories. Add a BUILD file to a directory to mark it as a package.
#20 49.17  - /src/oak/oak/server
#20 49.34 INFO: Elapsed time: 48.355s
#20 49.34 INFO: 0 processes.
#20 49.34 FAILED: Build did NOT complete successfully (0 packages loaded)
#20 49.35 FAILED: Build did NOT complete successfully (0 packages loaded)
#20 49.36 Traceback (most recent call last):
#20 49.36   File "<string>", line 1, in <module>
#20 49.36   File "/src/fuzzers/afl/fuzzer.py", line 40, in build
#20 49.36     utils.build_benchmark()
#20 49.36   File "/src/fuzzers/utils.py", line 82, in build_benchmark
#20 49.36     subprocess.check_call(['/bin/bash', '-ex', build_script], env=env)
#20 49.36   File "/usr/local/lib/python3.8/subprocess.py", line 364, in check_call
#20 49.36     raise CalledProcessError(retcode, cmd)
#20 49.36 subprocess.CalledProcessError: Command '['/bin/bash', '-ex', '/src/build.sh']' returned non-zero exit status 1.
#20 ERROR: executor failed running [/bin/sh -c echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi]: exit code: 1
------
 > importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak:
------
------
 > [stage-1 13/13] RUN echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi:
------
executor failed running [/bin/sh -c echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi]: exit code: 1
make: *** [docker/generated.mk:2823875: .afl-oak_oak-builder] Error 1
/bin/sh: 1: source: not found
#2 [internal] load .dockerignore
#2 sha256:d68abf8df0d618c48de58d061543ca6a27b3b6bde5e7d6fef10eb7192403b041
#2 transferring context: 2B done
#2 DONE 1.0s

#1 [internal] load build definition from Dockerfile
#1 sha256:cdc9a544d0f1a57e0d367abe3088635172270abf172127493285a75ae3b7d321
#1 transferring dockerfile: 32B done
#1 DONE 1.1s

#3 [internal] load metadata for gcr.io/oss-fuzz-base/base-builder@sha256:276813aef0ce5972db43c0230f96162003994fa742fb1b2f4e66c67498575c65
#3 sha256:2b754e48af0c5e38ce62698059fbec3192df8e59cc29e02d41923aa551f21bea
#3 DONE 0.5s

#5 [1/5] FROM gcr.io/oss-fuzz-base/base-builder@sha256:276813aef0ce5972db43c0230f96162003994fa742fb1b2f4e66c67498575c65
#5 sha256:42273eb8b63d10daaf882a5b3c8a6e7a11876869a31001925573ea217a9cf9a4
#5 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/builders/benchmark/oak_oak
#4 sha256:d95c1ba6777729cf9980463d65040c29c39beb7f9fcffbc722a6deb0b08c2a9a
#4 DONE 0.0s

#9 [internal] load build context
#9 sha256:ac62ebba1991a8468b0c51b4d38ecd2d7d2b27879682df862b5daf6ecf90368c
#9 transferring context: 30B done
#9 DONE 0.1s

#7 [3/5] RUN git clone --depth 1 https://github.com/project-oak/oak oak
#7 sha256:21197fc6b19d8079dee5c2f233963aa1bc606e064d14044014f40ebca3446e94
#7 CACHED

#8 [4/5] WORKDIR oak
#8 sha256:d5cf8f6ec9461d2bb17ddf7de7b492efdb99f63580be9824c10627bd9f849685
#8 CACHED

#6 [2/5] RUN apt-get update &&     apt-get install -y wget &&     wget "https://storage.googleapis.com/bazel-apt/pool/jdk1.8/b/bazel/bazel_1.1.0_amd64.deb" -nv -o- -O bazel.deb &&     echo "138b47ffd54924e3c0264c65d31d3927803fb9025db4d5b18107df79ee3bda95  bazel.deb" > bazel.sha256 &&     sha256sum --check bazel.sha256 &&     apt-get install -y ./bazel.deb &&     rm bazel.deb bazel.sha256 &&     apt-get clean
#6 sha256:c16b12b0f93998d28c9a66811bd5916315bd043396b6c2621ed208a6aa602d37
#6 CACHED

#10 [5/5] COPY build.sh /src/
#10 sha256:d9355e6f830fd636130715eb1643e68f21035c340f345a5193f2bf199f4224c1
#10 CACHED

#11 exporting to image
#11 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#11 exporting layers done
#11 writing image sha256:3a3a261c2a75dce1be31dcca1f9b21f753073f0c34c67b86842b546fadad145d 0.1s done
#11 naming to gcr.io/fuzzbench/builders/benchmark/oak_oak done
#11 DONE 0.4s

#12 exporting cache
#12 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#12 preparing build cache for export
#12 preparing build cache for export done
#12 DONE 0.0s
#1 [internal] load build definition from builder.Dockerfile
#1 sha256:7f1bad14112d70c28466f1cf41e2ee382b7a753309ecbfea87a4ee5557b27d44
#1 transferring dockerfile: 46B done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:4a5e05f429b7d8ed45541e68823a63295ca25ac0713e558954622fe53ea013be
#2 transferring context: 2B done
#2 DONE 0.1s

#3 [internal] load metadata for gcr.io/fuzzbench/builders/benchmark/oak_oak:latest
#3 sha256:8c7b0f124954020a4c2bcd2bd0fdd90627c038b709ebb961a3fd3dc1e8c0b000
#3 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak-intermediate
#4 sha256:4e880392b70060b9d6002bdaef7fdff56186b4d4ce00d3647dd3db82fca539c0
#4 DONE 0.0s

#5 [1/3] FROM gcr.io/fuzzbench/builders/benchmark/oak_oak
#5 sha256:883a437dd7e408be3925caa2b4c96c331b5f3c5d0524ce1215b25f155f6cfaa0
#5 DONE 0.0s

#6 [2/3] RUN git clone https://github.com/google/AFL.git /afl &&     cd /afl &&     git checkout 61037103ae3722c8060ff7082994836a794f978e &&     AFL_NO_X86=1 make
#6 sha256:52ae161ad8f2f71d072479f2c746b47984b2bdbae6d877f0616cb427a43102d9
#6 CACHED

#7 [3/3] RUN apt-get update &&     apt-get install wget -y &&     wget https://raw.githubusercontent.com/llvm/llvm-project/5feb80e748924606531ba28c97fe65145c65372e/compiler-rt/lib/fuzzer/afl/afl_driver.cpp -O /afl/afl_driver.cpp &&     clang -Wno-pointer-sign -c /afl/llvm_mode/afl-llvm-rt.o.c -I/afl &&     clang++ -stdlib=libc++ -std=c++11 -O2 -c /afl/afl_driver.cpp &&     ar r /libAFL.a *.o
#7 sha256:c66f9663006934f2b3994b6e798264ac69f08cb2630800806057509ba4133272
#7 CACHED

#8 exporting to image
#8 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#8 exporting layers done
#8 writing image sha256:9f6b7b5d7d5b94f66d4892097ea2a1ae08db715e8e055c4667a47ddac7f6b53c 0.0s done
#8 naming to gcr.io/fuzzbench/builders/afl/oak_oak-intermediate done
#8 DONE 0.4s

#9 exporting cache
#9 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#9 preparing build cache for export done
#9 DONE 0.0s
#1 [internal] load build definition from Dockerfile
#1 sha256:f88daf2731c7ed574c790db3b7949c62096559f87810c048eecf5649869cf974
#1 transferring dockerfile: 2.00kB done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:35d517d17a969b586289329b5a0b02e6adac6e78ed20c492a824f30c1e0f1414
#2 transferring context: 34B done
#2 DONE 0.2s

#3 [internal] load metadata for docker.io/library/ubuntu:xenial
#3 sha256:f62bae18ed588840f045c881b2502661f2a89578a2f8f99b83f5200ee83dd25b
#3 DONE 0.0s

#5 [1/7] FROM docker.io/library/ubuntu:xenial
#5 sha256:14dd403f25ae9e519bd44f27dc17af7ce80f5a4f9f48ca88108364e67ec5d360
#5 DONE 0.0s

#4 importing cache manifest from gcr.io/fuzzbench/base-image
#4 sha256:9b220ebb4d4daceed1b96df9b6dca076e762f1cd612574f010b82d5b9e5ad896
#4 DONE 0.0s

#8 [internal] load build context
#8 sha256:41bb94d6089d5733f0c7d74423bb8cbb6efac43eb766c7c04cb3a29d45e171fe
#8 transferring context: 559B 0.0s done
#8 DONE 0.2s

#6 [2/7] RUN apt-get update -y && apt-get install -y     build-essential     rsync     curl     zlib1g-dev     libncurses5-dev     libgdbm-dev     libnss3-dev     libssl-dev     libreadline-dev     libffi-dev     virtualenv     libbz2-dev     liblzma-dev     libsqlite3-dev
#6 sha256:3a1b0960f17eed529eaae93dc8fd3554f2743dd584d8fa569cdbe6bc734371ac
#6 CACHED

#7 [3/7] RUN cd /tmp/ &&     curl -O https://www.python.org/ftp/python/3.8.6/Python-3.8.6.tar.xz &&     tar -xvf Python-3.8.6.tar.xz &&     cd Python-3.8.6 &&     ./configure --enable-loadable-sqlite-extensions --enable-optimizations &&     make -j install &&     rm -r /tmp/Python-3.8.6.tar.xz /tmp/Python-3.8.6
#7 sha256:c5b9d1fb3371e84dbc60b76e7b2f8d5913bc93bcd4910ab65daa03e7b2ec4bb0
#7 CACHED

#9 [4/7] COPY ./requirements.txt /
#9 sha256:3a81d2b2c0f32cbb7d052a01df190b31e3099e1996726a790b6c794e04ac1095
#9 CACHED

#10 [5/7] RUN pip3 install -r /requirements.txt
#10 sha256:92b57ff2fdb310834f0fba1f583a6ee11c4a156b453fcd66008b0e6c642d044d
#10 CACHED

#11 [6/7] RUN apt-get update -y && apt-get install -y     apt-transport-https     lsb-release
#11 sha256:d45dedbdcb7405e174e3564acf902316943576ab205539b6436a54d5bcf8d1cb
#11 CACHED

#12 [7/7] RUN CLOUD_SDK_REPO="cloud-sdk-$(lsb_release -c -s)" &&     echo "deb https://packages.cloud.google.com/apt $CLOUD_SDK_REPO main"     | tee -a /etc/apt/sources.list.d/google-cloud-sdk.list &&     curl https://packages.cloud.google.com/apt/doc/apt-key.gpg     | apt-key add - &&     apt-get update -y &&     apt-get install -y google-cloud-sdk
#12 sha256:54fe2c2f07c14da05cd4ff77194699cf2e570081e7056c8e5dfc25d846464d74
#12 CACHED

#13 exporting to image
#13 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
#13 exporting layers done
#13 writing image sha256:278d1048be89ac10e6821499149688e394f017ddb53c5305e97cdbe9ed6d8c79
#13 writing image sha256:278d1048be89ac10e6821499149688e394f017ddb53c5305e97cdbe9ed6d8c79 0.0s done
#13 naming to gcr.io/fuzzbench/base-image done
#13 DONE 0.1s

#14 exporting cache
#14 sha256:2700d4ef94dee473593c5c614b55b2dedcca7893909811a8f2b48291a1f581e4
#14 preparing build cache for export done
#14 DONE 0.0s
#1 [internal] load build definition from Dockerfile
#1 sha256:703bd21f1ab942f13d411675bf91d54b5886081d34883e3cd40c1e25e0936ade
#1 transferring dockerfile: 2.22kB done
#1 DONE 0.1s

#2 [internal] load .dockerignore
#2 sha256:4fec25cee2973d6c7b9b9128516645b888d1b68711f27cd37fa8a09561224f56
#2 transferring context: 34B done
#2 DONE 0.1s

#4 [internal] load metadata for gcr.io/fuzzbench/base-image:latest
#4 sha256:932022888f650cc455b10eb5123bb08c0cccacac29a693e69314abbfd28a72c3
#4 DONE 0.0s

#3 [internal] load metadata for gcr.io/fuzzbench/builders/afl/oak_oak-intermediate:latest
#3 sha256:1d335971869b2edfd8b6bdd29a3d7249263edfc9f45956865e8fd9b89d949275
#3 DONE 0.0s

#12 [internal] load build context
#12 sha256:7eeb275368199678c3336d98acbb5108788a5425e3d4a864e69b0df1b3ea9e55
#12 DONE 0.0s

#5 importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak
#5 sha256:b8c3ef64a955fdf8e92d1880302bde7ef5db5301be5dd5bdd439c8a2eb9f4991
#5 ERROR: gcr.io/fuzzbench/builders/afl/oak_oak:latest: not found

#7 [base-image 1/1] FROM gcr.io/fuzzbench/base-image
#7 sha256:4d07825694520f8b6f6a0d8592dbd345433361ae044cb7f06706c5a95e3daaad
#7 DONE 0.0s

#6 [stage-1  1/13] FROM gcr.io/fuzzbench/builders/afl/oak_oak-intermediate
#6 sha256:4d122bc6994aeb7af6e852b5af4a708e7382e492595ba746144fe29017578a7d
#6 DONE 0.0s

#12 [internal] load build context
#12 sha256:7eeb275368199678c3336d98acbb5108788a5425e3d4a864e69b0df1b3ea9e55
#12 transferring context: 669.84kB 0.1s done
#12 DONE 0.2s

#9 [stage-1  3/13] COPY --from=base-image /usr/local/lib/python3.8 /usr/local/lib/python3.8
#9 sha256:08660eeb926ca51d3666f1dc3c62693c4245dcf7a68b7a44b382e860b018c1b8
#9 CACHED

#18 [stage-1 11/13] RUN export CHECKOUT_COMMIT=$(cat /benchmark.yaml | tr -d ' ' | grep 'commit:' | cut -d ':' -f2) &&     python3 -u /opt/fuzzbench/checkout_commit.py $CHECKOUT_COMMIT /src
#18 sha256:f92d22f5e47c982d3e1fcf32e175372faccc482baae695936011ee34ead4151a
#18 CACHED

#14 [stage-1  7/13] RUN touch /src/__init__.py
#14 sha256:e913daadf4cea6de4c707c7f46cf17988fdcb0ce79d54cd12b55c3acde89f4f1
#14 CACHED

#13 [stage-1  6/13] COPY fuzzers /src/fuzzers
#13 sha256:1d63fe64aa577ca14fc33bdf9e6ab92d0612e99e7a500dca22fedb5b91750bf0
#13 CACHED

#17 [stage-1 10/13] COPY docker/benchmark-builder/checkout_commit.py /opt/fuzzbench/
#17 sha256:841421b63ae0fcc1fe430f642141d0e5b741d88b2acd5e2026982d85a013b2f7
#17 CACHED

#15 [stage-1  8/13] COPY benchmarks/oak_oak/benchmark.yaml /
#15 sha256:f54fc1d14f9f72bc02afa1e2777406bb56037d2334092c730c9ea7121aff6581
#15 CACHED

#16 [stage-1  9/13] RUN mkdir /opt/fuzzbench/
#16 sha256:d12fb119f028e292dc0ec10f82b65bb002be18019549727bd4ceefdb7d1ce03e
#16 CACHED

#8 [stage-1  2/13] COPY --from=base-image /usr/local/bin/python3* /usr/local/bin/
#8 sha256:c1a11bde136b9c52930b60be34d0edd2e1f24ca90c69c6a892fe870e6e67e2dd
#8 CACHED

#10 [stage-1  4/13] COPY --from=base-image /usr/local/include/python3.8 /usr/local/include/python3.8
#10 sha256:32bf6163ad80463cf4be1e9101b4d49695e460cdfbcb994887f03c5c788e5bd4
#10 CACHED

#11 [stage-1  5/13] COPY --from=base-image /usr/local/lib/python3.8/site-packages /usr/local/lib/python3.8/site-packages
#11 sha256:a84df7af703270295a262a975b16f9b44ab4893262423ffacebd4258d73e7bc7
#11 CACHED

#19 [stage-1 12/13] RUN echo "#!/bin/bash\nPYTHONPATH=/src python3 -u -c "from fuzzers import utils; utils.initialize_env(); from fuzzers.afl import fuzzer; fuzzer.build()"" > /usr/bin/fuzzer_build &&     chmod +x /usr/bin/fuzzer_build
#19 sha256:ba694666760d3b496a01bfae8095c13f5f654dc27d800723aa6a7ea714f0b850
#19 CACHED

#20 [stage-1 13/13] RUN echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi
#20 sha256:a78635f0527bf5c30210ad2b00090277e7eac742c5514af6a85bbfb94490242f
#20 0.535 Run fuzzer_build to build the target
#20 0.673 FUZZ_TARGET = oak
#20 0.673 CFLAGS = -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -pthread -Wl,--no-as-needed -Wl,-ldl -Wl,-lm -Wno-unused-command-line-argument -O3
#20 0.673 CXXFLAGS = -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -pthread -Wl,--no-as-needed -Wl,-ldl -Wl,-lm -Wno-unused-command-line-argument -stdlib=libc++ -O3
#20 0.685 Building benchmark oak_oak with fuzzer afl
#20 0.689 ++ for f in '${CFLAGS}'
#20 0.689 ++ echo --conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.689 ++ for f in '${CFLAGS}'
#20 0.689 ++ echo --conlyopt=-pthread --linkopt=-pthread
#20 0.689 ++ for f in '${CFLAGS}'
#20 0.689 ++ echo --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.689 ++ for f in '${CFLAGS}'
#20 0.689 ++ echo --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.689 ++ for f in '${CFLAGS}'
#20 0.690 ++ echo --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.690 ++ for f in '${CFLAGS}'
#20 0.690 ++ echo --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.690 ++ for f in '${CFLAGS}'
#20 0.690 ++ echo --conlyopt=-O3 --linkopt=-O3
#20 0.690 ++ for f in '${CFLAGS}'
#20 0.690 ++ echo --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-pthread --linkopt=-pthread
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-O3 --linkopt=-O3
#20 0.690 ++ for f in '${CXXFLAGS}'
#20 0.690 ++ echo --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.690 ++ '[' address = undefined ']'
#20 0.691 + readonly 'EXTRA_BAZEL_FLAGS=--conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.691 --conlyopt=-pthread --linkopt=-pthread
#20 0.691 --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.691 --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.691 --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.691 --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.691 --conlyopt=-O3 --linkopt=-O3
#20 0.691 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.691 --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.691 --cxxopt=-pthread --linkopt=-pthread
#20 0.691 --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.691 --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.691 --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.691 --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.691 --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.691 --cxxopt=-O3 --linkopt=-O3
#20 0.691 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard'
#20 0.691 + EXTRA_BAZEL_FLAGS='--conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.691 --conlyopt=-pthread --linkopt=-pthread
#20 0.691 --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.691 --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.691 --conlyopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.691 --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.691 --conlyopt=-O3 --linkopt=-O3
#20 0.691 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard
#20 0.691 --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION
#20 0.691 --cxxopt=-pthread --linkopt=-pthread
#20 0.691 --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed
#20 0.691 --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl
#20 0.691 --cxxopt=-Wl,-lm --linkopt=-Wl,-lm
#20 0.691 --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument
#20 0.691 --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++
#20 0.691 --cxxopt=-O3 --linkopt=-O3
#20 0.691 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard'
#20 0.691 + readonly 'NO_VPTR=--copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr'
#20 0.691 + NO_VPTR='--copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr'
#20 0.691 + FUZZER_TARGETS=('oak/server:wasm_node_fuzz')
#20 0.691 + readonly FUZZER_TARGETS
#20 0.691 + bazel build --client_env=CC=clang --client_env=CXX=clang++ --dynamic_mode=off --spawn_strategy=standalone --genrule_strategy=standalone --copt=-fno-sanitize=vptr --linkopt=-fno-sanitize=vptr --strip=never --linkopt=-lc++ --linkopt=-pthread --cxxopt=-std=c++11 --copt=/libAFL.a --linkopt=/libAFL.a --remote_cache=https://storage.googleapis.com/oak-bazel-cache --remote_upload_local_results=false --conlyopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --conlyopt=-pthread --linkopt=-pthread --conlyopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed --conlyopt=-Wl,-ldl --linkopt=-Wl,-ldl --conlyopt=-Wl,-lm --linkopt=-Wl,-lm --conlyopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument --conlyopt=-O3 --linkopt=-O3 --conlyopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard --cxxopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --linkopt=-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION --cxxopt=-pthread --linkopt=-pthread --cxxopt=-Wl,--no-as-needed --linkopt=-Wl,--no-as-needed --cxxopt=-Wl,-ldl --linkopt=-Wl,-ldl --cxxopt=-Wl,-lm --linkopt=-Wl,-lm --cxxopt=-Wno-unused-command-line-argument --linkopt=-Wno-unused-command-line-argument --cxxopt=-stdlib=libc++ --linkopt=-stdlib=libc++ --cxxopt=-O3 --linkopt=-O3 --cxxopt=-fsanitize-coverage=trace-pc-guard --linkopt=-fsanitize-coverage=trace-pc-guard oak/server:wasm_node_fuzz
#20 0.708 Extracting Bazel installation...
#20 7.683 Starting local Bazel server and connecting to it...
#20 9.964 INFO: Writing tracer profile to '/root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/command.profile.gz'
#20 9.965 INFO: Invocation ID: 0fe25706-911b-4ce4-a267-cdc559d8a496
#20 10.32 Loading: 
#20 10.33 Loading: 0 packages loaded
#20 11.34 Loading: 0 packages loaded
#20 12.34 Loading: 0 packages loaded
#20 13.34 Loading: 0 packages loaded
#20 14.51 Loading: 0 packages loaded
#20 15.64 Loading: 0 packages loaded
#20 16.76 Loading: 0 packages loaded
#20 17.79 Loading: 0 packages loaded
#20 19.54 Loading: 0 packages loaded
#20 20.98 Loading: 0 packages loaded
#20 22.63 Loading: 0 packages loaded
#20 24.65 Loading: 0 packages loaded
#20 26.86 Loading: 0 packages loaded
#20 29.46 Loading: 0 packages loaded
#20 34.10 Loading: 0 packages loaded
#20 38.74 Loading: 0 packages loaded
#20 44.41 Loading: 0 packages loaded
#20 44.63 DEBUG: /root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/external/bazel_toolchains/rules/rbe_repo/version_check.bzl:68:9: 
#20 44.63 Current running Bazel is ahead of bazel-toolchains repo. Please update your pin to bazel-toolchains repo in your WORKSPACE file.
#20 44.63 DEBUG: /root/.cache/bazel/_bazel_root/872aac72dffae06b4e2a5b0308508d03/external/bazel_toolchains/rules/rbe_repo/checked_in.bzl:125:9: rbe_default not using checked in configs; Bazel version 1.1.0 was picked/selected but no checked in config was found in map {"0.20.0": ["8.0.0"], "0.21.0": ["8.0.0"], "0.22.0": ["8.0.0", "9.0.0"], "0.23.0": ["8.0.0", "9.0.0"], "0.23.1": ["8.0.0", "9.0.0"], "0.23.2": ["9.0.0"], "0.24.0": ["9.0.0"], "0.24.1": ["9.0.0"], "0.25.0": ["9.0.0"], "0.25.1": ["9.0.0"], "0.25.2": ["9.0.0"], "0.26.0": ["9.0.0"], "0.26.1": ["9.0.0"], "0.27.0": ["9.0.0"], "0.27.1": ["9.0.0"], "0.28.0": ["9.0.0"], "0.28.1": ["9.0.0"], "0.29.0": ["9.0.0"], "0.29.1": ["9.0.0", "10.0.0"], "1.0.0": ["9.0.0", "10.0.0"]}
#20 44.66 ERROR: Skipping 'oak/server:wasm_node_fuzz': no such package 'oak/server': BUILD file not found in any of the following directories. Add a BUILD file to a directory to mark it as a package.
#20 44.66  - /src/oak/oak/server
#20 44.66 WARNING: Target pattern parsing failed.
#20 44.66 ERROR: no such package 'oak/server': BUILD file not found in any of the following directories. Add a BUILD file to a directory to mark it as a package.
#20 44.66  - /src/oak/oak/server
#20 44.69 INFO: Elapsed time: 43.935s
#20 44.69 INFO: 0 processes.
#20 44.70 FAILED: Build did NOT complete successfully (0 packages loaded)
#20 44.70 FAILED: Build did NOT complete successfully (0 packages loaded)
#20 44.71 Traceback (most recent call last):
#20 44.71   File "<string>", line 1, in <module>
#20 44.71   File "/src/fuzzers/afl/fuzzer.py", line 40, in build
#20 44.71     utils.build_benchmark()
#20 44.71   File "/src/fuzzers/utils.py", line 82, in build_benchmark
#20 44.71     subprocess.check_call(['/bin/bash', '-ex', build_script], env=env)
#20 44.71   File "/usr/local/lib/python3.8/subprocess.py", line 364, in check_call
#20 44.71     raise CalledProcessError(retcode, cmd)
#20 44.71 subprocess.CalledProcessError: Command '['/bin/bash', '-ex', '/src/build.sh']' returned non-zero exit status 1.
#20 ERROR: executor failed running [/bin/sh -c echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi]: exit code: 1
------
 > importing cache manifest from gcr.io/fuzzbench/builders/afl/oak_oak:
------
------
 > [stage-1 13/13] RUN echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi:
------
executor failed running [/bin/sh -c echo "Run fuzzer_build to build the target" && if [ -z "$debug_builder" ] ; then fuzzer_build; fi]: exit code: 1
make: *** [docker/generated.mk:2823875: .afl-oak_oak-builder] Error 1
